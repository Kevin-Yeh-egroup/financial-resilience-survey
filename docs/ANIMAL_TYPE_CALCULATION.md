# 狀態理解動物類型計算依據與公式

本文檔說明8種狀態理解動物的計算邏輯、判斷條件和優先順序。

## 一、構面分數計算公式

所有構面分數均轉換為 0-100 分制：

```typescript
收入穩定度 = ((答案[1] + 答案[2]) / 2) × 10
儲備應變力 = ((答案[3] + 答案[5]) / 2) × 10
債務與保障 = ((答案[4] + 答案[6]) / 2) × 10
金錢管理 = ((答案[7] + 答案[8]) / 2) × 10
資源連結 = 答案[9] × 10
心理與規劃 = 答案[10] × 10
```

**說明：**
- 原始答案範圍：0-10 分
- 構面分數範圍：0-100 分
- 多題構面取平均值後乘以 10
- 單題構面直接乘以 10

---

## 二、動物類型判斷邏輯（按優先順序）

### 1. 🐱 縮成一團休息的貓（高風險疊加型）

**判斷條件（需同時滿足）：**
```
儲備應變力 < 40
債務與保障 < 50
資源連結 < 50
心理與規劃 < 50
```

**邏輯說明：**
- 多個關鍵面向同時處於低分狀態
- 儲蓄、債務、支持、心理四個面向都偏低
- 屬於高風險疊加型狀態

**優先級：** 最高（最先判斷）

---

### 2. 🐘 站在細繩上的大象（結構型脆弱）

**判斷條件（需同時滿足）：**
```
收入穩定度 ≥ 70
儲備應變力 < 50
資源連結 < 50
心理與規劃 < 50
```

**邏輯說明：**
- 收入穩定度高，但其他支撐面向薄弱
- 所有重量集中在單一收入來源
- 缺乏其他分擔風險的支撐點

**優先級：** 第二

---

### 3. 🐒 在樹間移動的猴子（社會韌性型）

**判斷條件（需同時滿足）：**
```
收入穩定度 < 50
債務與保障 < 50
金錢管理 < 50
資源連結 ≥ 70
心理與規劃 ≥ 70
```

**邏輯說明：**
- 雖然收入、債務、管理能力偏低
- 但支持系統強、心理信心高
- 透過人際連結和行動力創造調整空間

**優先級：** 第三

---

### 4. 🐿️ 躲在葉子下的小松鼠（有保護、但暫時受傷的狀態）

**判斷條件（需同時滿足）：**
```
資源連結 ≥ 70
答案[6] × 10 ≥ 70  （風險保障準備，原始答案 ≥ 7）
(心理與規劃 < 60 或 儲備應變力 < 50)
```

**邏輯說明：**
- 支持資源高、風險保障準備充分
- 但近期因突發事件受到衝擊
- 心理韌性或儲蓄/應急能力暫時偏低
- 基礎條件仍在，選擇先保護自己

**優先級：** 第四

**特殊說明：**
- 使用原始答案 `answers[6]` 而非構面分數，因為需要單獨判斷第 6 題（風險保障準備）

---

### 5. 🐻 慢慢探出頭的小熊（恢復中的狀態）

**判斷條件（需同時滿足）：**
```
心理與規劃 ≥ 70
資源連結 ≥ 70
(儲備應變力 < 50 或 金錢管理 < 50 或 債務與保障 < 50)
```

**邏輯說明：**
- 心理韌性高、支持資源高（已開始面對問題）
- 但儲蓄、管理、債務至少一項仍偏低
- 正從壓力狀態慢慢走出來，改變速度不快但真實存在

**優先級：** 第五

---

### 6. 🐜 努力拖著家的小螞蟻（撐得很用力的狀態）

**判斷條件（需同時滿足）：**
```
收入穩定度 ≥ 70
儲備應變力 < 30
心理與規劃 < 70
資源連結 < 70
```

**邏輯說明：**
- 收入穩定度高，能撐住日常運作
- 但儲蓄極低、心理信心低、支持資源低
- 多數責任與壓力集中在自己身上
- 每天都在用力維持，幾乎沒有喘息空間

**優先級：** 第六

**特殊說明：**
- 儲備應變力使用更嚴格的門檻（< 30）來判斷「極低」狀態

---

### 7. 🐕 準備出發的小狗（心理啟動型）

**判斷條件（需同時滿足）：**
```
心理與規劃 ≥ 70
金錢管理 < 50
儲備應變力 < 50
```

**邏輯說明：**
- 心理信心高，已意識到需要改變
- 但管理能力和儲蓄還缺乏具體方法
- 動機已出現，需要有人陪伴整理方向

**優先級：** 第七

---

### 8. 🐢 穩定前行的烏龜（隱性韌性型）

**判斷條件：**
```
預設類型（當以上條件都不滿足時）
```

**邏輯說明：**
- 六構面皆中等，無特別高或低
- 生活節奏不快，但不容易因單一事件而大幅失衡
- 適合慢慢調整與準備，而不是急著做大改變

**優先級：** 最低（預設類型）

---

## 三、判斷流程圖

```
開始判斷
  ↓
是否為「貓」？ → 是 → 返回「貓」
  ↓ 否
是否為「大象」？ → 是 → 返回「大象」
  ↓ 否
是否為「猴子」？ → 是 → 返回「猴子」
  ↓ 否
是否為「松鼠」？ → 是 → 返回「松鼠」
  ↓ 否
是否為「小熊」？ → 是 → 返回「小熊」
  ↓ 否
是否為「螞蟻」？ → 是 → 返回「螞蟻」
  ↓ 否
是否為「小狗」？ → 是 → 返回「小狗」
  ↓ 否
返回「烏龜」（預設）
```

---

## 四、重要注意事項

### 1. 判斷優先順序
- 判斷順序很重要，因為使用 `if-else` 結構
- 一旦符合某個條件，立即返回該類型，不再繼續判斷
- 優先順序反映風險程度和狀態特徵的明顯程度

### 2. 分數門檻說明
- **≥ 70**：中分或高分（原始答案 7-10 分）
- **< 50**：低分（原始答案 0-4 分）
- **< 30**：極低分（原始答案 0-2 分）
- **< 40**：很低分（原始答案 0-3 分）

### 3. 特殊判斷
- **小松鼠**：使用原始答案 `answers[6]` 而非構面分數，因為需要單獨判斷第 6 題（風險保障準備）
- **小螞蟻**：儲備應變力使用更嚴格的門檻（< 30）來判斷「極低」狀態

### 4. 邏輯運算符
- **`&&`（且）**：所有條件需同時滿足
- **`||`（或）**：至少一個條件滿足即可

---

## 五、範例計算

### 範例 1：判斷為「貓」
```
答案：{1: 5, 2: 5, 3: 2, 4: 3, 5: 2, 6: 3, 7: 4, 8: 4, 9: 3, 10: 3}

構面分數：
- 收入穩定度 = ((5+5)/2) × 10 = 50
- 儲備應變力 = ((2+2)/2) × 10 = 20 (< 40) ✓
- 債務與保障 = ((3+3)/2) × 10 = 30 (< 50) ✓
- 金錢管理 = ((4+4)/2) × 10 = 40
- 資源連結 = 3 × 10 = 30 (< 50) ✓
- 心理與規劃 = 3 × 10 = 30 (< 50) ✓

結果：符合「貓」的條件，返回 "cat"
```

### 範例 2：判斷為「松鼠」
```
答案：{1: 6, 2: 6, 3: 4, 4: 5, 5: 4, 6: 8, 7: 5, 8: 5, 9: 8, 10: 5}

構面分數：
- 收入穩定度 = ((6+6)/2) × 10 = 60
- 儲備應變力 = ((4+4)/2) × 10 = 40 (< 50) ✓
- 債務與保障 = ((5+8)/2) × 10 = 65
- 金錢管理 = ((5+5)/2) × 10 = 50
- 資源連結 = 8 × 10 = 80 (≥ 70) ✓
- 心理與規劃 = 5 × 10 = 50 (< 70) ✓
- 答案[6] × 10 = 8 × 10 = 80 (≥ 70) ✓

結果：符合「松鼠」的條件，返回 "squirrel"
```

---

## 六、相關檔案

- 判斷邏輯實作：`lib/scoring.ts` 中的 `determineAnimalType()` 函數
- 類型定義：`types/questionnaire.ts` 中的 `AnimalType`
- 顯示配置：`components/results-display.tsx` 中的 `animalTypeConfig`

---

**最後更新：** 2024年（包含8種動物類型）
