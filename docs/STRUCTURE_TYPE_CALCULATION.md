# 結構判讀計算依據與公式

本文檔說明6種結構判讀類型（A-F）的計算邏輯、判斷條件和優先順序。

## 一、構面分數計算公式

所有構面分數均轉換為 0-100 分制：

```typescript
收入穩定度 = ((答案[1] + 答案[2]) / 2) × 10
儲備應變力 = ((答案[3] + 答案[5]) / 2) × 10
債務與保障 = ((答案[4] + 答案[6]) / 2) × 10
金錢管理 = ((答案[7] + 答案[8]) / 2) × 10
資源連結 = 答案[9] × 10
心理與規劃 = 答案[10] × 10
```

**說明：**
- 原始答案範圍：0-10 分
- 構面分數範圍：0-100 分
- 多題構面取平均值後乘以 10
- 單題構面直接乘以 10

---

## 二、結構類型判斷邏輯（按優先順序）

### 1. C 型｜有人接住的（人脈承接型）

**判斷條件（需同時滿足）：**
```
資源連結 ≥ 70
心理與規劃 ≥ 70
```

**邏輯說明：**
- 支持系統高、心理信心高
- 即使收入不穩或債務偏高，仍具備可討論、可求助的支持系統與行動信心
- 韌性來自關係與心理承接，調整潛力高於表面數字

**優先級：** 最高（最先判斷）

**特徵：**
- 不等於「只能依靠自己的」（因為有支持系統）
- 不等於「勉強撐著的」（因為有心理信心）
- 核心優勢：關係與心理承接

---

### 2. F 型｜一直被拖回原點的（循環消耗型）

**判斷條件（需同時滿足）：**
```
債務與保障 < 50
儲備應變力 < 50
金錢管理 < 50
心理與規劃 < 50
資源連結 < 50
```

**邏輯說明：**
- 債務壓力高、儲蓄低、金錢管理能力低、心理信心低、支持系統不穩定或已消耗
- 多個弱點形成自我消耗的結構循環
- 即使曾短暫改善或有人協助，仍容易因壓力反覆累積而回到原本的高風險結構
- 結構本身會吃掉改善成果

**優先級：** 第二

**特徵：**
- 不只是「高風險疊加」（那是狀態）
- 不只是「勉強撐著」（那仍有前進空間）
- 核心問題：結構本身會吃掉改善成果

---

### 3. E 型｜有資源卻卡住的（資源存在，但無法動用型）

**判斷條件（需同時滿足）：**
```
收入穩定度 ≥ 50
儲備應變力 < 50
金錢管理 < 50
心理與規劃 < 50
```

**邏輯說明：**
- 收入中～高，但儲蓄低或未有效使用
- 支持系統存在但未啟動
- 金錢管理能力低、心理信心低
- 資源無法被實際動用或轉換為有效承接力
- 結構卡在啟動前一刻，導致遇到壓力時仍只能被動承受

**優先級：** 第三

**特徵：**
- 不等於「只能依靠自己的」（因為資源其實存在）
- 不等於「勉強撐著的」（因為問題不只是緩衝不足）
- 核心問題：資源無法轉為行動

---

### 4. A 型｜只能依靠自己的（單一支撐型）

**判斷條件（需同時滿足）：**
```
收入穩定度 ≥ 70
其他面向中至少 2 項 < 50
  - 儲備應變力 < 50
  - 資源連結 < 50
  - 心理與規劃 < 50
```

**邏輯說明：**
- 收入穩定度高，但儲蓄、支持系統、心理信心低
- 生活主要仰賴穩定但單一的收入來源
- 承接點高度集中，一旦關鍵支點變動，其他面向難以分攤衝擊

**優先級：** 第四

**特徵：**
- 現況未必失序，但一旦關鍵支點變動，其他面向難以分攤衝擊
- 問題不在於不努力，而是缺乏其他可以分擔風險的支撐

**計算方式：**
```typescript
const otherDimensions = [儲備應變力, 資源連結, 心理與規劃]
const lowCount = otherDimensions.filter((d) => d < 50).length
if (收入穩定度 >= 70 && lowCount >= 2) {
  return "A"
}
```

---

### 5. B 型｜勉強撐著的（撐著型）

**判斷條件（需同時滿足）：**
```
儲備應變力 < 50
金錢管理 < 50
心理與規劃 < 60
```

**邏輯說明：**
- 收入普通或不穩，儲蓄低，管理能力中低，心理信心中低
- 能維持基本運作，但在收入穩定度、儲蓄與管理上緩衝不足
- 對未來的掌握感與信心偏低
- 有努力、有行動，但突發事件易放大壓力，調整空間有限

**優先級：** 第五

**特徵：**
- 一直在撐，但真的很難喘口氣
- 長期下來，身心都容易感到疲累

---

### 6. D 型｜有很多依靠的（多元支撐型）

**判斷條件：**
```
預設類型（當以上條件都不滿足時）
```

**邏輯說明：**
- 多個面向共同支撐（儲蓄、支持、管理、信心）
- 即使收入不特別高，整體仍具備良好彈性
- 壓力存在但不集中，任一面向變動仍可承接
- 由多個面向一起撐住，例如有基本儲蓄、有人可以討論、也清楚錢該怎麼安排

**優先級：** 最低（預設類型）

**特徵：**
- 有幾個支撐點，整體比較安心
- 是一種相對穩定、可長期調整的結構

---

## 三、判斷流程圖

```
開始判斷
  ↓
是否為「C 型」？ → 是 → 返回「C」
  ↓ 否
是否為「F 型」？ → 是 → 返回「F」
  ↓ 否
是否為「E 型」？ → 是 → 返回「E」
  ↓ 否
是否為「A 型」？ → 是 → 返回「A」
  ↓ 否
是否為「B 型」？ → 是 → 返回「B」
  ↓ 否
返回「D 型」（預設）
```

---

## 四、重要注意事項

### 1. 判斷優先順序
- 判斷順序很重要，因為使用 `if-else` 結構
- 一旦符合某個條件，立即返回該類型，不再繼續判斷
- 優先順序反映結構特徵的明顯程度和風險識別的重要性

### 2. 分數門檻說明
- **≥ 70**：中分或高分（原始答案 7-10 分）
- **≥ 50**：中分以上（原始答案 5-10 分）
- **< 60**：中低分以下（原始答案 0-5 分）
- **< 50**：低分（原始答案 0-4 分）

### 3. 特殊判斷邏輯

#### A 型：多項低分判斷
- 使用 `filter` 方法計算「其他面向」中低於 50 分的數量
- 需要至少 2 項低於 50 分才符合條件
- 這確保了「單一支撐」的特徵：收入高但其他多項低

#### B 型：心理與規劃門檻
- 使用 `< 60` 而非 `< 50`，表示「中低分以下」
- 這反映了「勉強撐著」的狀態：心理信心不是極低，但也不夠高

### 4. 邏輯運算符
- **`&&`（且）**：所有條件需同時滿足
- **`||`（或）**：至少一個條件滿足即可

### 5. 結構類型與狀態理解的區別
- **結構判讀（A-F）**：關注財務結構的整體特徵和支撐方式
- **狀態理解（8種動物）**：關注當前的狀態特徵和恢復/調整能力
- 兩者使用相同的構面分數，但判斷邏輯和目的不同

---

## 五、範例計算

### 範例 1：判斷為「C 型」
```
答案：{1: 4, 2: 4, 3: 5, 4: 6, 5: 5, 6: 5, 7: 5, 8: 5, 9: 8, 10: 8}

構面分數：
- 收入穩定度 = ((4+4)/2) × 10 = 40
- 儲備應變力 = ((5+5)/2) × 10 = 50
- 債務與保障 = ((6+5)/2) × 10 = 55
- 金錢管理 = ((5+5)/2) × 10 = 50
- 資源連結 = 8 × 10 = 80 (≥ 70) ✓
- 心理與規劃 = 8 × 10 = 80 (≥ 70) ✓

結果：符合「C 型」的條件，返回 "C"
```

### 範例 2：判斷為「F 型」
```
答案：{1: 5, 2: 5, 3: 2, 4: 3, 5: 2, 6: 3, 7: 3, 8: 3, 9: 3, 10: 3}

構面分數：
- 收入穩定度 = ((5+5)/2) × 10 = 50
- 儲備應變力 = ((2+2)/2) × 10 = 20 (< 50) ✓
- 債務與保障 = ((3+3)/2) × 10 = 30 (< 50) ✓
- 金錢管理 = ((3+3)/2) × 10 = 30 (< 50) ✓
- 資源連結 = 3 × 10 = 30 (< 50) ✓
- 心理與規劃 = 3 × 10 = 30 (< 50) ✓

結果：符合「F 型」的條件，返回 "F"
```

### 範例 3：判斷為「E 型」
```
答案：{1: 7, 2: 7, 3: 3, 4: 5, 5: 3, 6: 5, 7: 3, 8: 3, 9: 6, 10: 4}

構面分數：
- 收入穩定度 = ((7+7)/2) × 10 = 70 (≥ 50) ✓
- 儲備應變力 = ((3+3)/2) × 10 = 30 (< 50) ✓
- 債務與保障 = ((5+5)/2) × 10 = 50
- 金錢管理 = ((3+3)/2) × 10 = 30 (< 50) ✓
- 資源連結 = 6 × 10 = 60
- 心理與規劃 = 4 × 10 = 40 (< 50) ✓

結果：符合「E 型」的條件，返回 "E"
```

### 範例 4：判斷為「A 型」
```
答案：{1: 8, 2: 8, 3: 3, 4: 5, 5: 3, 6: 5, 7: 5, 8: 5, 9: 3, 10: 3}

構面分數：
- 收入穩定度 = ((8+8)/2) × 10 = 80 (≥ 70) ✓
- 儲備應變力 = ((3+3)/2) × 10 = 30 (< 50) ✓
- 債務與保障 = ((5+5)/2) × 10 = 50
- 金錢管理 = ((5+5)/2) × 10 = 50
- 資源連結 = 3 × 10 = 30 (< 50) ✓
- 心理與規劃 = 3 × 10 = 30 (< 50) ✓

其他面向低分數量：
- 儲備應變力 < 50 ✓
- 資源連結 < 50 ✓
- 心理與規劃 < 50 ✓
- lowCount = 3 (≥ 2) ✓

結果：符合「A 型」的條件，返回 "A"
```

### 範例 5：判斷為「B 型」
```
答案：{1: 5, 2: 5, 3: 3, 4: 5, 5: 3, 6: 5, 7: 3, 8: 3, 9: 5, 10: 5}

構面分數：
- 收入穩定度 = ((5+5)/2) × 10 = 50
- 儲備應變力 = ((3+3)/2) × 10 = 30 (< 50) ✓
- 債務與保障 = ((5+5)/2) × 10 = 50
- 金錢管理 = ((3+3)/2) × 10 = 30 (< 50) ✓
- 資源連結 = 5 × 10 = 50
- 心理與規劃 = 5 × 10 = 50 (< 60) ✓

結果：符合「B 型」的條件，返回 "B"
```

### 範例 6：判斷為「D 型」（預設）
```
答案：{1: 6, 2: 6, 3: 6, 4: 6, 5: 6, 6: 6, 7: 6, 8: 6, 9: 6, 10: 6}

構面分數：
- 收入穩定度 = ((6+6)/2) × 10 = 60
- 儲備應變力 = ((6+6)/2) × 10 = 60
- 債務與保障 = ((6+6)/2) × 10 = 60
- 金錢管理 = ((6+6)/2) × 10 = 60
- 資源連結 = 6 × 10 = 60
- 心理與規劃 = 6 × 10 = 60

結果：不符合任何特定類型，返回 "D"（預設）
```

---

## 六、結構類型對照表

| 類型 | 名稱 | 核心特徵 | 風險程度 | 介入重點 |
|------|------|----------|----------|----------|
| A | 只能依靠自己的 | 單一收入支撐，其他面向低 | 高風險 | 建立多元支撐 |
| B | 勉強撐著的 | 儲蓄低、管理低、心理低 | 中高風險 | 提升緩衝能力 |
| C | 有人接住的 | 支持系統高、心理信心高 | 中低風險 | 強化結構改善 |
| D | 有很多依靠的 | 多個面向共同支撐 | 低風險 | 維持與優化 |
| E | 有資源卻卡住的 | 資源存在但無法動用 | 中風險 | 解鎖使用能力 |
| F | 一直被拖回原點的 | 多個弱點形成循環 | 高風險 | 打斷循環 |

---

## 七、相關檔案

- 判斷邏輯實作：`lib/scoring.ts` 中的 `determineStructureType()` 函數
- 類型定義：`types/questionnaire.ts` 中的 `StructureType`
- 顯示配置：`components/results-display.tsx` 中的 `structureTypeConfig`
- 配置檔案：`lib/questionnaire-config.ts` 中的 `structureTypeConfig`

---

## 八、與狀態理解動物的關係

結構判讀和狀態理解使用相同的構面分數，但關注點不同：

- **結構判讀（A-F）**：從結構層面分析財務支撐方式
- **狀態理解（8種動物）**：從狀態層面分析當前處境和調整能力

兩者可以互相補充，提供更完整的財務韌性評估。

---

**最後更新：** 2024年（包含 A-F 六種結構類型）
